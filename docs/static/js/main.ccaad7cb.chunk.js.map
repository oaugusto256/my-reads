{"version":3,"sources":["components/Header.js","components/Footer.js","components/Loading.js","components/SearchBar.js","components/AddButton.js","components/Book.js","components/BookSection.js","components/SearchResult.js","BooksAPI.js","containers/MyReads.js","serviceWorker.js","index.js"],"names":["Header","react_default","a","createElement","className","Footer","target","href","rel","fa","color","Loading","props","react_spinners","size","sizeUnit","SearchBar","state","query","handleSubmit","event","preventDefault","_this","searchBook","handleChange","value","setState","eraseSearch","_this2","this","Link","to","onSubmit","onChange","type","placeholder","onClick","Component","AddButton","Book","selectValue","handleSelection","book","shelf","bookThumbnail","imageLinks","thumbnail","key","id","src","alt","title","subtitle","moveBook","disabled","BookSection","style","name","books","map","components_Book","SearchResult","renderBooks","searchedBooks","renderError","renderSearchInstruction","cleanSection","loading","components_Loading","length","error","api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","getAll","fetch","concat","then","res","json","data","update","method","Object","objectSpread","Content-Type","body","JSON","stringify","search","readStyle","backgroundColor","toReadStyle","readingStyle","MyReads","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","inTheShelf","bookFound","forEach","bookInShelf","searchLoading","BookAPI","bookToCheck","bookInTheShelf","undefined","errorSearching","moveTo","eraseSearchedBooks","_this3","components_Header","components_Footer","Route","exact","path","render","components_AddButton","components_BookSection","components_SearchBar","components_SearchResult","booksShelf","Boolean","window","location","hostname","match","ReactDOM","BrowserRouter","containers_MyReads","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ccaad7cb.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className=\"row header\">\r\n      <span>My Reads</span>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport { FaHeart, FaReact } from \"react-icons/fa\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"row footer\">\r\n      <span>\r\n        Developed by{\" \"}\r\n        <a\r\n          target=\"_blank\"\r\n          href=\"https://github.com/tavioalves\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          OA\r\n        </a>{\" \"}\r\n        with <FaHeart color={\"#ff283e\"} /> and <FaReact color={'#33E0FF'} />\r\n      </span>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport { PropagateLoader } from \"react-spinners\";\r\n\r\nconst Loading = (props) => {\r\n  return (\r\n    <div className=\"flex-center height-100\">\r\n      <PropagateLoader size={props.size} sizeUnit={\"px\"} color={props.color} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading;","import React, { Component } from 'react';\r\nimport { FaChevronLeft, FaTimes } from 'react-icons/fa';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    query: ''\r\n  }  \r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.query !== '') \r\n      this.props.searchBook(this.state.query)\r\n  }\r\n\r\n  handleChange = (value) => {\r\n    this.setState({ query: value });\r\n  }\r\n\r\n  eraseSearch = () => {\r\n    this.setState({ query: '' });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"flex-center\">\r\n        <Link to='/' className=\"button-back\">\r\n          <FaChevronLeft size={20} />\r\n        </Link>\r\n        <div className=\"width-100\">\r\n          <form onSubmit={this.handleSubmit}>\r\n            <input\r\n              value={this.state.query}\r\n              onChange={(event) => this.handleChange(event.target.value)}\r\n              type=\"text\"\r\n              className=\"search-bar fadeIn animated\"\r\n              placeholder={\"Search books to add to your bookshelf...\"}\r\n            />\r\n          </form>          \r\n          <span className=\"erase-search\" onClick={() => this.eraseSearch()}>\r\n            <FaTimes />\r\n          </span>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SearchBar;","import React from \"react\";\r\nimport { FaPlus } from 'react-icons/fa';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AddButton = (props) => {\r\n  return (\r\n    <div className=\"button-section\">\r\n      <Link to='/search' className=\"button-add add\">\r\n        <FaPlus size={20} />\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddButton;\r\n","import React, { Component } from 'react';\r\nimport { FaChevronDown } from 'react-icons/fa';\r\n\r\nclass Book extends Component {\r\n  state = {\r\n    selectValue: ''\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ selectValue: this.props.book.shelf })\r\n  }\r\n\r\n  handleSelection = (event) => {\r\n    this.setState({ selectValue: event.target.value });\r\n  }\r\n\r\n  render() {\r\n    const { book } = this.props;  \r\n    const bookThumbnail = (!book.imageLinks) ? 'https://via.placeholder.com/130x175' : book.imageLinks.thumbnail;\r\n\r\n    return (\r\n      <div className=\"book animated fadeIn\" key={book.id}>\r\n        <img className=\"book-img\" src={bookThumbnail} alt={book.title} />\r\n        <p className=\"book-title\">{book.title}</p>\r\n        <p className=\"book-subtitle\">{book.subtitle}</p>\r\n        <div className=\"book-selection\">\r\n          <FaChevronDown size={12.5} />\r\n          <select\r\n            value={this.state.selectValue}\r\n            onChange={this.handleSelection}\r\n            onClick={() => {\r\n              this.props.moveBook(book, this.state.selectValue)\r\n              this.setState({ selectValue: '' });\r\n            }}\r\n          >\r\n            <option value=\"\" disabled>Move to...</option>\r\n            <option value=\"currentlyReading\">Currently reading</option>\r\n            <option value=\"wantToRead\">Want to read</option>\r\n            <option value=\"read\">Read</option>\r\n            <option value=\"none\">None</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Book;","import React from 'react';\r\nimport Book from './Book';\r\n\r\nconst BookSection = (props) => {\r\n  return (\r\n    <div className={`animated fadeIn col-lg-4`} style={props.style}>\r\n      <p className=\"book-section-header\">{props.name}</p>\r\n      <div className=\"flex-collumn\">\r\n        {props.books.map(book => (\r\n          props.type === book.shelf ?\r\n            (<Book\r\n              key={book.id}\r\n              book={book}\r\n              moveBook={props.moveBook}\r\n            />\r\n            ) : null\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BookSection;","import React, { Component } from 'react';\r\nimport Book from './Book';\r\nimport Loading from './Loading';\r\nimport { FaFrown } from 'react-icons/fa';\r\n\r\nclass SearchResult extends Component {\r\n  componentWillUnmount() {\r\n    this.props.cleanSection();\r\n  }\r\n\r\n  renderBooks = (props) => {\r\n    return props.searchedBooks.map(book => (     \r\n      <Book\r\n        book={book}\r\n        key={book.id}\r\n        moveBook={props.moveBook}\r\n      />        \r\n    ))\r\n  }\r\n  \r\n  renderError = () => {\r\n    return (\r\n      <div className=\"error-section fadeIn animated\">\r\n        <p>Nothing has been found. Try again.</p>\r\n        <FaFrown size={50} />\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  renderSearchInstruction = () => {\r\n    return (\r\n      <p className=\"search-instruction\">Type the category of desired book and press 'Enter'.</p>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    \r\n    if (this.props.loading) {\r\n      return <Loading size={15} color={'#777'} />\r\n    } else {\r\n      return (\r\n        <div className=\"search-result-section\">\r\n          <div className=\"flex-collumn\">\r\n            {(!this.props.searchedBooks.length && !this.props.error) \r\n              ? this.renderSearchInstruction() \r\n              : null}            \r\n            {this.props.error \r\n              ? this.renderError() \r\n              : this.renderBooks(this.props)}\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default SearchResult;\r\n\r\n\r\n","\r\nconst api = \"https://reactnd-books-api.udacity.com\"\r\n\r\n// Generate a unique token for storing your bookshelf data on the backend server.\r\nlet token = localStorage.token\r\nif (!token)\r\n  token = localStorage.token = Math.random().toString(36).substr(-8)\r\n\r\nconst headers = {\r\n  'Accept': 'application/json',\r\n  'Authorization': token\r\n}\r\n\r\nexport const get = (bookId) =>\r\n  fetch(`${api}/books/${bookId}`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.book)\r\n\r\nexport const getAll = () =>\r\n  fetch(`${api}/books`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.books)\r\n\r\nexport const update = (book, shelf) =>\r\n  fetch(`${api}/books/${book.id}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      ...headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ shelf })\r\n  }).then(res => res.json())\r\n\r\nexport const search = (query) =>\r\n  fetch(`${api}/search`, {\r\n    method: 'POST',\r\n    headers: {\r\n      ...headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ query })\r\n  }).then(res => res.json())\r\n    .then(data => data.books)\r\n","import React, { Component } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport Footer from \"../components/Footer\";\r\nimport Loading from \"../components/Loading\";\r\nimport SearchBar from \"../components/SearchBar\";\r\nimport AddButton from \"../components/AddButton\";\r\nimport BookSection from \"../components/BookSection\";\r\nimport SearchResult from \"../components/SearchResult\";\r\n\r\nimport { Route } from \"react-router-dom\";\r\nimport * as BookAPI from \"../BooksAPI\";\r\n\r\nconst readStyle = {\r\n  backgroundColor: '#8181EC'\r\n}\r\nconst toReadStyle = {\r\n  backgroundColor: '#81ECEC'\r\n}\r\nconst readingStyle = {\r\n  backgroundColor: '#81B7EC'\r\n}\r\n\r\nclass MyReads extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      books: [],\r\n      searchedBooks: [],\r\n      loading: true,\r\n      searchLoading: false,\r\n      errorSearching: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    BookAPI.getAll().then(books => {\r\n      this.setState({ books: books, loading: false });\r\n    });\r\n  }\r\n\r\n  inTheShelf = (book, shelf) => {\r\n    let bookFound;\r\n\r\n    shelf.forEach(bookInShelf => {\r\n      if(bookInShelf.id === book.id) \r\n        bookFound = bookInShelf\r\n    })\r\n\r\n    return bookFound;\r\n  }\r\n\r\n  searchBook = query => {\r\n    this.setState({ searchLoading: true })\r\n\r\n    BookAPI.search(query).then(searchedBooks => {\r\n      if(!this.searchBook.error === \"empty query\") {\r\n        searchedBooks = searchedBooks.map(bookToCheck => {\r\n          let bookInTheShelf = this.inTheShelf(bookToCheck, this.state.books);\r\n          \r\n          if(bookInTheShelf === undefined) {\r\n            bookToCheck.shelf = 'none'\r\n            return bookToCheck;\r\n          } else        \r\n            return bookInTheShelf;\r\n        })\r\n      }\r\n\r\n      searchedBooks.error === \"empty query\"\r\n        ? this.setState({ errorSearching: true, searchLoading: false })\r\n        : this.setState({ searchedBooks, errorSearching: false, searchLoading: false });\r\n    });\r\n  };\r\n\r\n  moveBook = (book, moveTo) => {\r\n    if (book.shelf !== moveTo) {\r\n      if (moveTo.length !== 0) {\r\n        this.setState({ loading: true });\r\n\r\n        BookAPI.update(book, moveTo).then(() => {\r\n          BookAPI.getAll().then(books => {\r\n            this.setState({ books, loading: false });\r\n          })\r\n        })\r\n      }\r\n    }\r\n  };\r\n\r\n  eraseSearchedBooks = () => {\r\n    this.setState({ searchedBooks: [] })\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"container-fluid\">\r\n          <Header />\r\n          <Loading size={15} color={'#8181EC'} />\r\n          <Footer />\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"container-fluid\">\r\n          <Header />\r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            render={() => (\r\n              <div className=\"row height-100\">\r\n                <AddButton />\r\n                <BookSection\r\n                  type=\"wantToRead\"\r\n                  name=\"Want to read\"\r\n                  style={toReadStyle}\r\n                  books={this.state.books}\r\n                  moveBook={this.moveBook}\r\n                />\r\n                <BookSection\r\n                  type=\"currentlyReading\"\r\n                  style={readingStyle}\r\n                  name=\"Currently reading\"\r\n                  books={this.state.books}\r\n                  moveBook={this.moveBook}\r\n                />\r\n                <BookSection\r\n                  type=\"read\"\r\n                  name=\"Read\"\r\n                  style={readStyle}\r\n                  books={this.state.books}\r\n                  moveBook={this.moveBook}\r\n                />\r\n              </div>\r\n            )}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/search\"\r\n            render={() => (\r\n              <div className=\"row height-100\">\r\n                <div className=\"search-section\">\r\n                  <SearchBar \r\n                    searchBook={this.searchBook} \r\n                    cleanSection={this.eraseSearchedBooks}\r\n                  />\r\n                  <SearchResult\r\n                    moveBook={this.moveBook}\r\n                    booksShelf={this.state.books}\r\n                    error={this.state.errorSearching}\r\n                    loading={this.state.searchLoading}\r\n                    cleanSection={this.eraseSearchedBooks}\r\n                    searchedBooks={this.state.searchedBooks}\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n          />\r\n          <Footer />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default MyReads;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n\r\n              // Execute callback\r\n              if (config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport MyReads from './containers/MyReads';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport \"./styles/animate.css\";\r\nimport './styles/my-reads.css';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <MyReads />\r\n  </BrowserRouter>, \r\n  document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}